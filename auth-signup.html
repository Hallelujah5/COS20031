<!doctype html>
<html lang="en">
	
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TerraTech</title>
    <meta name="author" content="TerraTech" />
    <meta name="email" content="support@shreethemes.in" />
    <meta name="version" content="1.0.0" />
    <!-- favicon -->
    <link href="images/terratech-favicon-color.png" rel="shortcut icon">
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" type="text/css" rel="stylesheet" />
    <!--Material Icon -->
    <link href="css/materialdesignicons.min.css" rel="stylesheet" type="text/css" />
    <!-- Custom  Css -->
    <link href="css/style.min.css" rel="stylesheet" type="text/css" id="theme-opt" />

    <link rel="stylesheet" href="./css/customsignup.css" type="text/css">
</head>

<body>        
    <section class="bg-home zoom-image d-flex align-items-center">
        <div class="bg-overlay image-wrap" style="background: url('images/bg/03.jpg') center;"></div>
        <div class="bg-overlay bg-gradient-overlay"></div>
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="p-4 bg-white rounded-3 shadow-md mx-auto w-100" style="max-width: 400px;">
                        <form onsubmit="return validate()">
                            <a href="index.html"><img src="images/terra-normal-trans.png" class="mb-4 d-block mx-auto" alt=""></a>
                            <h5 class="mb-3">Register your account</h5>
                        
                            <!-- <div class="form-floating mb-1">
                                <div class="form-floating mb-2 fname">
                                    <input type="text" class="form-control" id="SignupInput" placeholder="Harry">
                                    <label for="SignupInput">First Name</label>
                                </div>

                                <div class="form-floating mb-2 fname">
                                    <input type="text" class="form-control" id="SignupInput" placeholder="Harry">
                                    <label for="SignupInput">Last Name</label>
                                </div>
                            </div> -->
                            
                            <div class="form-floating mb-2">
                                <input type="text" class="form-control" id="SignupName" placeholder="John Doe">
                                <label for="SignupName">Name</label>
                            </div>

                            <div class="form-floating mb-2 nature">
                                <select name="Nature" id="SignupNature">
                                    <option value="">Please select</option>
                                    <option value="Individual">Individual</option>
                                    <option value="Organization">Organization</option>
                                    <option value="Government">Government</option>
                                </select>
                            </div>

                            <div class="form-floating mb-2">
                                <input type="email" class="form-control" id="SignupEmail" placeholder="name@example.com">
                                <label for="SignupEmail">Email Address</label>
                            </div>

                            <div class="form-floating mb-2">
                                <input type="password" class="form-control" id="SignupPassword" placeholder="Password">
                                <label for="SignupPassword">Password</label>
                            </div>

                            <div class="form-floating mb-3">
                                <input type="password" class="form-control" id="SignupRePassword" placeholder="Password">
                                <label for="SignupRePassword">Retype Password</label>
                            </div>
                        
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                                <label class="form-check-label text-muted" for="flexCheckDefault">I Accept <a href="#" class="text-primary">Terms And Condition</a></label>
                            </div>
            
                            <button class="btn btn-primary w-100" type="submit">Register</button>

                            <div class="col-12 text-center mt-3">
                                <span><span class="text-muted me-2">Already have an account ? </span> <a href="auth-login.html" class="text-dark fw-medium">Sign in</a></span>
                            </div><!--end col-->
                        </form>
                    </div>
                </div><!--end col-->
            </div><!--end row-->
        </div><!--end container-->
    </section><!--end section-->
    <!-- ENd Hero -->
    
    <!-- javascript -->
    <script src="js/bootstrap.bundle.min.js"></script>
    <!-- Icons -->
    <script src="js/feather.min.js"></script>
    <!-- Custom -->
    <script src="js/plugins.init.js"></script>
    <script src="js/app.js"></script>
</body>

</html>

<?php
function sanitizeInput($data) {
    if (is_array($data)) {
        $sanitized_input = array();
        foreach ($data as $value) {
            $sanitized_input[] = trim($value);
        }
        return $sanitized_input;
    }
    else {
        $data = trim($data);
        $data = stripslashes($data);
        $data = htmlspecialchars($data);
    }
}
function validate(){
    $nature = sanitizeInput($_POST("SignupNature"));
    $name = sanitizeInput($_POST("SignupName"));
    $email = sanitizeInput($_POST("SignupEmail"));
    $pwd = sanitizeInput($_POST("SignupPassword"));
    $repwd = sanitizeInput($_POST("SignupRePassword"));
    $matchpwd = true;
    $errMsg = "";

    if (empty($email) && empty($pwd) && empty($repwd)){
        $errMsg = "Please fill in the blanks to proceed.";
    }
    if($email == "") {
        $errMsg = "Email address must not be empty. Please fill in to proceed.";
    }
    if($pwd != $repwd) {
        $errMsg = "Retype password doesn't match password. Please check again.";
    }
    else {
        $matchpwd = true;
        return $matchpwd;
    }

    if($errMsg) {
        echo "<span>$errMsg</span><br>";
        $matchpwd = false;
    }
    else {
        $insertQuery = "INSERT INTO Parties (Nature, Name, Email, Password)
        VALUE ('$nature', '$name', '$email', '$pwd')";
        // $insertResult = mysqli_query($conn, $insertQuery);
        // if ($insertResult) {
        //     $
        // }
    }
}
?>